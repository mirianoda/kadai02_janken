<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kaisei+Decol&display=swap" rel="stylesheet">
<title>ディルと10回じゃんけん勝負</title>
</head>
<body>
  <div class="wrapper">
    <header>
      <div class="title">
        <h1>ディルと10回じゃんけん勝負</h1>
        <img src="img/nikukyu.png" alt="">
      </div>
      <div id="judgment">&nbsp;</div>
    </header>

    <main>
    <div class="play">
        <div class="dog">
          <img src="img/dog_nomal.png" alt="犬のキャラクターです" class="dog-img1" id="dog">
          <div class="dog-hukidashi">
            <img src="img/fukidasi-pink.png" alt="ピンクの吹き出しです" class="dog-img2">
            <p id="dog-hand">最初はグー！<br>じゃんけ〜ん</p>
          </div>
        </div>
        <div class="girl">
          <div class="girl-hukidashi">
            <img src="img/fukidasi-yellow.png" alt="黄色の吹き出しです" class="girl-img2">
            <p id="girl-hand"></p>
            <p class="you">あなた</p>
          </div>
          <img src="img/girl.png" alt="女の子のキャラクターです" class="girl-img1">
        </div>
    </div>

    <div class="time">
      <span id="time">0</span>回目
    </div>

      <ul>
        <li id="gu_btn">グー</li>
        <li id="cho_btn">チョキ</li>
        <li id="par_btn">パー</li>
      </ul>
      <div class="sc">
        <span id="dog_sc">0</span><span class="vs">-</span><span id="girl_sc">0</span>
      </div>
    </main>
  </div>

  <!-- 勝ち画面   -->
 <div id="win">
   <div class="win">
     <img src="img/dog_win.png" alt="">
     <h1>あなたの勝ち！</h1>
     <button class="reload">もう一度あそぶ</button>
   </div>
 </div>

 <!-- 負け画面   -->
 <div id="lose">
  <div class="lose">
    <img src="img/dog_lose.png" alt="">
    <h1>あなたの負け…</h1>
    <button class="reload">もう一度あそぶ</button>
  </div>
</div>

 <!-- あいこ画面   -->
 <div id="aiko">
  <div class="aiko">
    <img src="img/dig_aiko.png" alt="">
    <h1>引き分け</h1>
    <button class="reload">もう一度あそぶ</button>
  </div>
</div>

  <footer></footer>
  <script>
  //じゃんけん用のSCRIPTを書いてください
  let kekka = "結果";

  $("#gu_btn").on("click",function(){
    $("#girl-hand").html('<img src="img/gu.png">');
    const r = Math.ceil(Math.random()*3); //Math.rondomは0.0000001~0.9999999999のため扱いずらいから
    console.log(r);
        if(r == 1){
          // $("#pc_hands").html('グー');
          $("#judgment").html('あいこ');
          $("#judgment").css("color","black");
          kekka = "あいこ";
          $("#dog-hand").html('<img src="img/gu.png" height="200">');
          $("#dog-hand").css("top","10px");
          $("#dog-hand").css("left","120px");
        }else if(r == 2){
              // $("#pc_hands").html("チョキ");
              $("#judgment").html("あなたの勝ち！");
              $("#judgment").css("color","#ff4e4e");
              kekka = "勝ち";
              $("#dog-hand").html('<img src="img/cho.png" height="200">');
              $("#dog-hand").css("top","10px");
              $("#dog-hand").css("left","120px");
        }else if(r == 3){
              // $("#pc_hands").html("パー");
              $("#judgment").html("ディルの勝ち！");
              $("#judgment").css("color","rgb(62, 82, 255)");
              kekka = "負け";
              $("#dog-hand").html('<img src="img/par.png" height="200">');
              $("#dog-hand").css("top","10px");
              $("#dog-hand").css("left","120px");
        }
  });

  $("#cho_btn").on("click",function(){
    $("#girl-hand").html('<img src="img/cho.png">');
    const r = Math.ceil(Math.random()*3); //Math.rondomは0.0000001~0.9999999999のため扱いずらいから
  console.log(r);
        if(r == 1){
          // $("#pc_hands").html('グー');
          $("#judgment").html("ディルの勝ち！");
          $("#judgment").css("color","rgb(62, 82, 255)");
          kekka = "負け";
          $("#dog-hand").html('<img src="img/gu.png" height="200">');
          $("#dog-hand").css("top","10px");
          $("#dog-hand").css("left","120px");
        }else if(r == 2){
              // $("#pc_hands").html("チョキ");
              $("#judgment").html('あいこ');
              $("#judgment").css("color","black");
              kekka = "あいこ";
              $("#dog-hand").html('<img src="img/cho.png" height="200">');
              $("#dog-hand").css("top","10px");
              $("#dog-hand").css("left","120px");
        }else if(r == 3){
              // $("#pc_hands").html("パー");
              $("#judgment").html("あなたの勝ち！");
              $("#judgment").css("color","#ff4e4e");
              kekka = "勝ち";
              $("#dog-hand").html('<img src="img/par.png" height="200">');
              $("#dog-hand").css("top","10px");
              $("#dog-hand").css("left","120px");
        }
  });

  $("#par_btn").on("click",function(){
    $("#girl-hand").html('<img src="img/par.png">');
    const r = Math.ceil(Math.random()*3); //Math.rondomは0.0000001~0.9999999999のため扱いずらいから
  console.log(r);
        if(r == 1){
          // $("#pc_hands").html('グー');
          $("#judgment").html("あなたの勝ち！");
          $("#judgment").css("color","#ff4e4e");
          kekka = "勝ち";
          $("#dog-hand").html('<img src="img/gu.png" height="200">');
          $("#dog-hand").css("top","10px");
          $("#dog-hand").css("left","120px");
        }else if(r == 2){
              // $("#pc_hands").html("チョキ");
              $("#judgment").html("ディルの勝ち！");
              $("#judgment").css("color","rgb(62, 82, 255)");
              kekka = "負け";
              $("#dog-hand").html('<img src="img/cho.png" height="200">');
              $("#dog-hand").css("top","10px");
              $("#dog-hand").css("left","120px");
        }else if(r == 3){
              // $("#pc_hands").html("パー");
              $("#judgment").html("あいこ");
              $("#judgment").css("color","black");
              kekka = "あいこ";
              $("#dog-hand").html('<img src="img/par.png" height="200">');
              $("#dog-hand").css("top","10px");
              $("#dog-hand").css("left","120px");
        }
  });


  // 犬の表情を勝敗によって変化させる
  $("#gu_btn,#cho_btn,#par_btn").on("click",function(){
    console.log(kekka);
    if(kekka == "勝ち"){
      $("#dog").attr("src","img/dog_lose.png");
    }else if(kekka == "負け"){
      $("#dog").attr("src","img/dog_win.png");
    }else if(kekka == "あいこ"){
      $("#dog").attr("src","img/dig_aiko.png");
    }
  });

  //点数カウント
  let dogsc = 0
  let girlsc = 0
  let time = 0
  $("#gu_btn,#cho_btn,#par_btn").on("click",function(){
    if(kekka == "勝ち"){
      girlsc += 1;
      $("#girl_sc").html(girlsc);
      time += 1;
      $("#time").html(time);
    }else if(kekka == "負け"){
      dogsc += 1;
      $("#dog_sc").html(dogsc);
      time += 1;
      $("#time").html(time);
    }
  })

  //10回後
  $("#gu_btn,#cho_btn,#par_btn").on("click",function(){
  if(time == 10){
    if(dogsc > girlsc){
      $("#lose").css("display","block");
    }else if(girlsc > dogsc){
      $("#win").css("display","block");
    }else if(girlsc == dogsc){
      $("#aiko").css("display","block");
    }
  }})

  //リロード
  $(".reload").on("click",function(){
    window.location.reload();
  })
      
      
      
      
      
      

  </script>
</body>
</html>
